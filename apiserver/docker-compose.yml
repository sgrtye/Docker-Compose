services:
  apiserver:
    container_name: apiserver
    image: sgrtye/apiserver:latest
    restart: unless-stopped
    ports:
      - 8888:80
    networks:
      - apiserver
      - gateway
    volumes:
      - cache:/cache:rw
    environment:
      - XUI_USERNAME=${XUI_USERNAME}
      - XUI_PASSWORD=${XUI_PASSWORD}
      - XUI_URL=${XUI_URL}

volumes:
  cache:

networks:
  apiserver:
    driver: bridge
  gateway:
    external: true