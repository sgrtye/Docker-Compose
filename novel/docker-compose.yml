services:
  novel:
    container_name: novel
    image: sgrtye/novel:latest
    restart: unless-stopped
    ports:
      - 8008:80
    networks:
      - novel
      - gateway
    volumes:
      - cache:/cache:rw
      - ${NOVEL_CONFIG_PATH}:/config:ro
    environment:
      - TELEBOT_TOKEN=${TELEBOT_TOKEN}
      - TELEBOT_USER_ID=${TELEBOT_USER_ID}
      - BOOK_URL=${BOOK_URL}
      - PROXY_URL=${PROXY_URL}

volumes:
  cache:

networks:
  novel:
    driver: bridge
  gateway:
    external: true